# Enterprise AI Acceleration Protocol (MOAI Bootcamp)

**前提 (Day 0 完了済み):**

  * **Target:** 解決すべき具体的なビジネス課題が決定している。
  * **Data:** 必要なデータへのアクセス権があり、基本的なクレンジングが済んでいる

## 🗓️ Day 1: Foundational Alignment & Structuralization

**（基盤の合意形成と構造化）**

### 【午前】ドメインエキスパート・ヒアリング

**暗黙知の抽出 (Expert Interview):**

* **「理想的な回答」の定義:** ビジネス課題に対し、人間ならどのような思考プロセスを経て結論を出すかをヒアリングします。
* **エッジケースの特定:** 0日目で準備したデータの中で、「これがあると判断が難しい」という例外パターンを特定します。
* **評価指標の策定:**   得られた答えが、「成功」か「失敗」かを判断するための定量的な基準を合意します。

* **Pydanticによるデータモデルの構築**

0日目でクレンジングしたデータを、確実に扱える「型」に落とし込みます。

* **入力モデル:** クレンジング済みデータのフィールド、型（Int, Str, Enumなど）、バリデーションルールをPydanticクラスとして定義します。
* **出力モデル (Structured Outputs):**  生成すべき解の構造をPydanticで定義します。

2. **実装のポイント:**
* `Field` を使用した説明文（Description）の付与：LLMにスキーマを渡す際、この説明文が強力なプロンプトとして機能します。
* `validator` による制約：ビジネスルール（例：価格は正数であること、特定の日付形式であること）をコードで強制します。

## 🗓️ Day 2: Optimization Strategy & Engine Development

**（最適化戦略の策定とエンジン開発）**

Day 2のゴールは、**「実データに対して、制約を満たした現実的な解を時間内に導き出せること」**です。

### 【午前】問題の定義と分類

Pydanticで定義されたデータモデルと、ヒヤリングした制約条件を突き合わせ、最適な「解法」を選択します。

1. **問題の抽象化とマッピング:**
* その問題は、既存のソルバー（VRP, Job-Shop, 輸配送など）の標準機能で解けるか？
* それとも、業務固有の複雑な制約（例：特殊な勤務形態、複雑な積載ルール）があり、**AMPL** 等を用いたカスタムモデルの記述が必要か？


2. **パフォーマンス要件の確定:**
* **問題サイズ:** 変数や制約の数はどの程度か？（数千規模か、数百万規模か）
* **求解時間上限:** 現場の運用では「1分以内」が必要か、「一晩（8時間）」かけても良いのか？


3. **ソルバー選定の意思決定:**
* **商用MIPソルバー (Gurobi, CPLEX等):** 厳密解が必要で、ライセンス予算がある場合。
* **オープンソース (CBC, HiGHS等):** コスト優先で、モデルが比較的標準的な場合。
* **メタヒューリスティクス :** 大規模かつ計算時間がシビアな場合。

実際のデータサイズを用いて、ソルバーの挙動をテストします。

1. **スケーラビリティ・テスト:**
* 小規模データだけでなく、本番規模のデータで求解時間を測定します。

2. **制約の妥当性確認（ドメインエキスパート同席）:**
* 出力された解を見て、現場の感覚と乖離がないか確認します。
* 「解がでない（Infeasible）」場合、どの制約を緩和すべきか、またはデータに不備があるかを特定します。


## 🗓️ Day 3: Agentic UI Generation & System Integration

**（エージェントによるUI生成とシステム統合）**

Day 3のゴールは、**「業務担当者が自らデータを修正し、最適化を実行し、結果を確認できる業務アプリケーション」**を完成させることです。

### Agentic Skill による UI 自動生成

エージェント（Coding Agent）を活用して、PydanticモデルからStreamlitのインターフェースを動的に生成します。

1. **Pydantic-to-UI マッピング:**
* エージェントに対し、Pydanticのフィールド情報（型、デフォルト値、`Field`のdescription）を読み取らせます。
* **CRUDの実装:** データの閲覧、新規登録、既存データの編集、削除機能を生成。
* **バリデーションの統合:** 画面上で入力された値がPydanticモデルを通過するか即座にフィードバックする仕組みを構築します。

### 最適化エンジンとの「接合」

Day 2で作った最適化ソルバーを、UIから呼び出せるように統合します。

1. **実行コントロール:**
* 「最適化実行」ボタンの設置。
* 計算実行中のプログレスバーや、ソルバーのログ（求解状況）をリアルタイムで表示する機能。


2. **結果の可視化:**
* ソルバーが出力した解を、再びPydanticで受け取り、ビジネスユーザーが見やすい形式（ガントチャート、地図、グラフ等）で描画します。

### 「人間系」の組み込み（Human-in-the-loop）

自動生成されたアプリに、最終的なビジネス判断を加味できる機能を加えます。

1. **マニュアル調整機能:**
* AIが出した最適解に対して、人間が微調整を加え、再度制約チェックをかける機能。


2. **最終検証:**
* ドメインエキスパートが実際にUIを触り、0日目に定義した課題が解決できるか、直感的に操作できるかを確認します。


## 📊 Enterprise AI Acceleration Protocol 最終サマリー

| 日程 | フェーズ | 主要な成果物 | エージェント/AIの役割 |
| --- | --- | --- | --- |
| **Day 1** | **Structure** | Pydanticデータモデル | ドメイン知識の構造化・検証 |
| **Day 2** | **Optimize** | AMPL/ソルバーエンジン | 数理モデルによる意思決定支援 |
| **Day 3** | **Interact** | Streamlit Web App | コード生成（UI）と統合 |

---

## Enterprise AI Acceleration Protocol (MOAI Bootcamp) FAQ

Q. MOAI Bootcampの予約にかかる費用は？ 
A. 参加費用は無料です！ お客様に費用は発生しません。（要検討；払ったほうが使ってくれる）

Q. MOAI Bootcampはどこで開催されますか？ 
A. ご希望の場所で開催可能です。 お客様のオフィスへの訪問、日本各地にあるMOAI Labのオフィス、またはオンラインのいずれでも対応可能です。

Q. ソリューションの構築にはどのようなデータを使用しますか？ 
A. お客様が選択できます。 架空のデータを使用することも可能ですし、事前にチームと連携してお客様自身のデータを統合し、MOAI Sprintで使用することも可能です。

Q. MOAI SprintではどのMOAIプラットフォームを使用できますか？ 
A. ニーズや関心に合わせて調整します。 MOAI Sprintでは主に AGI4OPT、Agentic IBPとそれに含まれる各種最適化ソルバーが頻繁に使用されます。使用するソフトウェアは、扱うユースケースに合わせて決定します。

Q. 誰が参加すべきですか？ 
A. 技術者・非技術者を問わず、幅広いユーザーが対象です。 業務担当者（ドメインエキスパート）は少なくとも1名参加してください。高度な技術知識やコーディングスキルは必要ありません。AIや最適化に対する直感を養う絶好の機会です。ビジネス部門やIT部門など、組織全体から 5〜20名のステークホルダー の参加を推奨しています。

Q. MOAI Sprintの期間はどのくらいですか？ 
A. お客様の都合に合わせて調整可能です。 可用性、関心、ユースケースに応じて、最短1日から最長5日まで 柔軟に対応します。最適な期間についてご相談ください。

----
### 使用Tools
- Agent skills: ampl_code_generation, data_preprocessing, data_visualization, geocoding, pydantic_mapper, streamlit_app_generation (LLM), pydantic_to_streamlit, optimization solvers
-   Pydantic models
-   AMPL models
-   Agentic AI (AGI4OPT, Agentic IBP)

FastAPI（最適化ツールを準備）、Jupyter Hub (Jupyter AI), metabase (ユーザーのデータの前処理や可視化）、外部データ（国土交通省やOSRMなど）、Antigravity

-----
### Enterprise AI Acceleration Protocol (3-Day Fast Track) - Optimization Tools Edition

**前提 (Day 0 完了済み):**

  * **Target:** 解決すべき具体的なビジネス課題が決定している。
  * **Data:** 必要なデータへのアクセス権があり、基本的なクレンジングが済んでいる。

-----

#### **Day 1: Tool Definition & Architect (ツール定義と設計)**

**目的:** Day 0で特定された課題を解決するため、AIが利用可能な最適化ツール（API/MCP）を定義し、解決策の設計図（プロンプトフローとUI）を確定させます。

| 時間帯 | アクティビティ | 詳細内容と成果物 |
| :--- | :--- | :--- |
| **AM** | **Optimization Tool Definition**<br>(最適化ツールの定義) | **【最重要】**<br>Day 0のデータを活用し、課題解決のためにAIエージェントが実行可能な「最適化ツール（API/MCP）」を具体的に定義します。<br>*(例: 在庫最適化API、配送計画計算MCP、外部データ連携ツールなど)*<br>**成果物:** ツール定義書一覧（OpenAPI/MCP仕様） |
| **PM 1** | **Sketch & Prompt Flow**<br>(対話設計) | UIのスケッチだけでなく、\*\*「ユーザーの発話 → AIの思考プロセス（Chain of Thought） → 最適化ツール(API/MCP)の実行 → 回答」\*\*という対話フローを設計します。<br>**成果物:** ソリューションスケッチ、システムプロンプトの草案 |
| **PM 2** | **Architecture & Guardrails**<br>(技術選定と安全策) | LLMのモデル選定、RAGの検索戦略、および「AIにさせてはいけないこと」を定義します。<br>**成果物:** アーキテクチャ図、ガードレール仕様書（禁止事項リスト） |
| **End** | **Environment Setup** | 開発環境（リポジトリ、APIキー、サンドボックス）のセットアップを完了し、翌朝9時からコーディング可能な状態にします。 |

-----

#### **Day 2: Vibe Coding & Build (集中的な実装)**

**目的:** 完全に「ハッカソンモード」に入ります。ドメインエキスパートがエンジニアとペアを組み、その場でフィードバックを回しながらAIの挙動を調整します。

**チーム編成:**

  * **Track A (Frontend/UI):** 画面とUXの実装。
  * **Track B (Agent Logic):** AIの思考ロジック、ツール実装、プロンプトエンジニアリング。

| 時間帯 | アクティビティ | 詳細内容と成果物 |
| :--- | :--- | :--- |
| **All Day** | **Vibe Coding**<br>(同席開発) | **【プロトコルの核】**<br>エンジニアがコードを書く横で、ドメインエキスパートが「その回答は専門的に少し違う」「このツールをこう使ってほしい」と即座に指摘し、システムプロンプトやツールの使い方を修正し続けます。<br>従来の仕様書ベースではなく、実際のAIの挙動を見ながら開発します。 |
| **AM** | **Core Implementation** | **Track A:** 基本的なチャットUI、ファイルアップロード機能の実装。<br>**Track B:** 定義された最適化ツール（API/MCPによる検索・計算・連携処理）の実装と接続。 |
| **PM** | **Grounding & Refinement** | AIの回答に\*\*引用元（Source）\*\*を正しく表示させるためのGrounding処理を実装します。ハルシネーション（嘘）を抑制するチューニングを行います。 |
| **End** | **Red Teaming**<br>(敵対的テスト) | 開発チーム以外のメンバーが参加し、わざと意地悪なプロンプトや範囲外のデータを入力してガードレールが機能するか検証します。<br>**成果物:** 修正済みMVP（Code Freeze） |

-----

#### **Day 3: Validate & Value (検証と価値算定)**

**目的:** 完成したMVPをユーザーに触ってもらい、技術的な動作確認だけでなく、ビジネスインパクト（ROI）を明確にして次のフェーズへの投資判断を仰ぎます。

| 時間帯 | アクティビティ | 詳細内容と成果物 |
| :--- | :--- | :--- |
| **AM** | **User Testing**<br>(実証実験) | 3〜5名のターゲットユーザーに対し、実データを用いたタスク処理を行ってもらいます。<br>「AIが信頼できるか」「処理時間はどれだけ短縮されたか」「最適化の結果は妥当か」を測定します。<br>**成果物:** ユーザーフィードバック、実験ログ |
| **PM 1** | **ROI Calculation**<br>(投資対効果の試算) | テスト結果（作業時間の短縮率や最適化によるコスト削減効果など）を元に、このソリューションを全社展開した場合の年間利益創出額を試算します。<br>**成果物:** ROI分析シート |
| **PM 2** | **Executive Pitch**<br>(最終プレゼン) | デモ実演、ユーザーの声、ROIをセットにして決裁者にプレゼンします。<br>「PoCで終わらせるか、本番開発へ進むか」のGo/No-Go判定を行います。<br>**成果物:** 本番化に向けたロードマップ |

