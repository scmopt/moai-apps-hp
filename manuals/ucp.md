# 発電計画最適化システム（ユニットコミットメント） ユーザーマニュアル

## 1. アプリケーション概要

本アプリケーションは、電力需要予測に基づき、複数の火力発電機と再生可能エネルギー発電機の運転スケジュールを最適化するツールです。各発電機の起動・停止コストや物理的な出力制限、需要と供給のバランスを考慮し、システム全体の運用コストを最小化する計画を立案します。

## 2. 設定項目（入力データ）

### 2.1 共通設定

計画の全体枠組みを定義します。

| 項目名 | 説明 | 入力上の注意 |
| --- | --- | --- |
| 計画対象期間数 | 最適化を行う合計の期間数（例：24時間分なら24） | 1以上の整数を入力 |

### 2.2 火力発電機マスター

各火力発電機の物理的特性と基本運用ルールを設定します。

| 項目名 | 説明 | 入力上の注意 |
| --- | --- | --- |
| 発電機識別ID | 各発電機を一意に識別するための名称 | 重複しない値を入力 |
| 起動パターン数 | 「熱間起動」「冷間起動」など、異なる起動特性の数 | 1以上の整数 |
| コスト特性点数 | 燃費などのコストを近似計算するためのデータ点数 | 1以上の整数 |
| 必須稼働設定 | 常に稼働状態（ON）を維持するかどうか | 「はい」または「いいえ」 |
| 最小出力 / 最大出力 | 発電機が安全に稼働できる出力の範囲 | 最大出力 ≧ 最小出力 |
| 出力変化制限（増/減） | 1期間あたりに変化させられる出力の最大幅 | 0以上の値 |
| 起動・停止時制限 | 起動時および停止時に許容される出力変化量 | 0以上の値 |
| 最低稼働 / 停止時間 | 一度起動（または停止）した際に維持すべき最小時間 | 0以上の値 |
| 初期状態（出力・稼働） | 計画開始直前（t=0）の出力値と稼働の有無 | 出力は0以上 |
| 初期継続時間 | 開始時点で既に何時間稼働（または停止）しているか | 0以上の値 |

### 2.3 発電コスト・特性設定

発電量に応じたコストや、起動にかかる費用を詳細に設定します。

| 項目名 | 説明 | 入力上の注意 |
| --- | --- | --- |
| 起動待機時間 | 各起動パターンが適用されるまでの停止時間 | 0以上の値 |
| 起動費用 | 各パターンにおける起動1回あたりのコスト | 0以上の値 |
| 出力レベル / コスト | 特定の出力に対する燃料費などの変動コスト | 複数の「点」として登録 |

### 2.4 需要および再生可能エネルギー設定

時系列の予測値と、天候に左右される再エネの制約を設定します。

| 項目名 | 説明 | 入力上の注意 |
| --- | --- | --- |
| 需要予測 | 各期間において供給が必要な総電力需要量 | 0以上の値 |
| 必要予備力 | 突発的な変動に備えて確保しておくべき余力 | 0以上の値 |
| 再エネ出力予測 | 太陽光や風力など、各期間の予測最小・最大出力 | 最大出力 ≧ 最小出力 |

---

## 3. 適用されるルール（制約条件）

最適化計算では、以下のルールが厳密に守られます。

* **需給バランス**: 全発電機の出力合計が、各期間の「需要予測」と「必要予備力」を充足しなければなりません。
* **出力上下限**: 各発電機は、設定された最小出力と最大出力の範囲内でのみ稼働できます。
* **ランプ制約（変化幅）**: 急激な出力の増減は、発電機ごとに設定された「変化制限幅」に抑えられます。
* **時間的制約**: 一度起動した発電機は、一定期間（最低稼働時間）を過ぎるまで停止できません。逆も同様です。
* **コスト構造**: 出力が増えるほどコストが増加する特性（区分線形近似）を考慮し、最も安価な組み合わせを選定します。

---

## 4. 出力結果

計算終了後、以下の情報が最適な運用計画として提示されます。

1. **運転スケジュール**: 各発電機の「稼働（ON）/ 停止（OFF）」の時系列チャート。
2. **出力配分計画**: 各期間において、どの発電機がどれだけの出力を分担するかの数値データ。
3. **運用コスト分析**: 期間中の「合計起動コスト」と「合計発電コスト（燃料費等）」の内訳。
4. **予備力充足状況**: 各期間において、どれだけの予備力が確保されているかの確認レポート。

## 5. アプリケーション操作ガイド

### サイドバー設定
* **Generate Sample Data**: テスト用のサンプルデータを生成します。
* **Solve**: ユニットコミットメント最適化を実行します。

### 結果表示
* **Optimal Objective Value**: 最適化された運用コストの総額。
* **Power Generation Schedule (Stacked)**: 各期間の発電機ごとの出力積み上げ棒グラフ。
* **Detailed Result Tables**:
    * **Power Generation (PG)**: 発電出力の詳細テーブル。
    * **Unit Commitment (UG)**: 起動・停止状態（1/0）のテーブル。